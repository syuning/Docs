2019-11-12 16:45:26,804  INFO [main] AmbariServer:218 - Found org/apache/ambari/server/controller/AmbariServer.class class in file:/usr/lib/ambari-server/ambari-server-2.7.3.0.0.jar!/org/apache/ambari/server/controller/AmbariServer.class
2019-11-12 16:45:26,814  INFO [main] AmbariServer:1012 - STARTUP_MESSAGE: Starting AmbariServer.java executable
STARTUP_MESSAGE: java.class.path = /etc/ambari-server/conf:/usr/lib/ambari-server/spring-messaging-4.3.18.RELEASE.jar:/usr/lib/ambari-server/spring-aop-4.3.18.RELEASE.jar:/usr/lib/ambari-server/jackson-core-2.9.5.jar:/usr/lib/ambari-server/jsr305-1.3.9.jar:/usr/lib/ambari-server/curator-client-2.7.1.jar:/usr/lib/ambari-server/jaxb-api-2.2.2.jar:/usr/lib/ambari-server/mailapi-1.5.2.jar:/usr/lib/ambari-server/jetty-client-9.4.12.v20180830.jar:/usr/lib/ambari-server/jsp-api-2.1.jar:/usr/lib/ambari-server/reflections-0.9.11.jar:/usr/lib/ambari-server/ant-1.7.1.jar:/usr/lib/ambari-server/commons-net-1.4.1.jar:/usr/lib/ambari-server/commons-lang-2.5.jar:/usr/lib/ambari-server/api-ldap-schema-data-2.0.0.AM1.jar:/usr/lib/ambari-server/validation-api-1.1.0.Final.jar:/usr/lib/ambari-server/spring-jdbc-4.3.18.RELEASE.jar:/usr/lib/ambari-server/jersey-multipart-1.19.jar:/usr/lib/ambari-server/hadoop-common-2.7.2.jar:/usr/lib/ambari-server/jackson-jaxrs-1.9.9.jar:/usr/lib/ambari-server/httpclient-4.5.5.jar:/usr/lib/ambari-server/asm-5.1.jar:/usr/lib/ambari-server/curator-framework-2.7.1.jar:/usr/lib/ambari-server/hadoop-annotations-2.6.0.jar:/usr/lib/ambari-server/cloning-1.9.2.jar:/usr/lib/ambari-server/apacheds-kerberos-codec-2.0.0-M24.jar:/usr/lib/ambari-server/jackson-xc-1.9.9.jar:/usr/lib/ambari-server/objenesis-2.1.jar:/usr/lib/ambari-server/cglib-3.2.4.jar:/usr/lib/ambari-server/jul-to-slf4j-1.7.20.jar:/usr/lib/ambari-server/commons-cli-1.3.1.jar:/usr/lib/ambari-server/spring-tx-4.3.18.RELEASE.jar:/usr/lib/ambari-server/htrace-core-3.1.0-incubating.jar:/usr/lib/ambari-server/commons-csv-1.1.jar:/usr/lib/ambari-server/jetty-servlet-9.4.12.v20180830.jar:/usr/lib/ambari-server/spring-websocket-4.3.18.RELEASE.jar:/usr/lib/ambari-server/commons-configuration-1.6.jar:/usr/lib/ambari-server/jetty-security-9.4.12.v20180830.jar:/usr/lib/ambari-server/commons-pool2-2.5.0.jar:/usr/lib/ambari-server/spring-expression-4.3.18.RELEASE.jar:/usr/lib/ambari-server/api-ldap-extras-aci-2.0.0.AM1.jar:/usr/lib/ambari-server/apacheds-i18n-2.0.0-M24.jar:/usr/lib/ambari-server/jsr311-api-1.1.1.jar:/usr/lib/ambari-server/jersey-core-1.19.jar:/usr/lib/ambari-server/commons-compress-1.5.jar:/usr/lib/ambari-server/ecj-3.5.1.jar:/usr/lib/ambari-server/commonj.sdo-2.1.1.jar:/usr/lib/ambari-server/guice-assistedinject-4.1.0.jar:/usr/lib/ambari-server/ambari-views-2.7.3.0.0.jar:/usr/lib/ambari-server/activation-1.1.jar:/usr/lib/ambari-server/jcl-over-slf4j-1.7.20.jar:/usr/lib/ambari-server/spring-security-kerberos-core-1.0.1.RELEASE.jar:/usr/lib/ambari-server/jackson-annotations-2.9.5.jar:/usr/lib/ambari-server/jetty-http-9.4.12.v20180830.jar:/usr/lib/ambari-server/xmlenc-0.52.jar:/usr/lib/ambari-server/websocket-client-9.4.12.v20180830.jar:/usr/lib/ambari-server/jsp-api-2.1-glassfish-2.1.v20100127.jar:/usr/lib/ambari-server/spring-security-web-4.2.7.RELEASE.jar:/usr/lib/ambari-server/swagger-annotations-1.5.19.jar:/usr/lib/ambari-server/commons-codec-1.8.jar:/usr/lib/ambari-server/websocket-servlet-9.4.12.v20180830.jar:/usr/lib/ambari-server/jets3t-0.9.0.jar:/usr/lib/ambari-server/aopalliance-1.0.jar:/usr/lib/ambari-server/javax.json-1.0.4.jar:/usr/lib/ambari-server/api-i18n-2.0.0.AM1.jar:/usr/lib/ambari-server/api-ldap-client-api-2.0.0.AM1.jar:/usr/lib/ambari-server/metrics-jvm-3.1.0.jar:/usr/lib/ambari-server/metrics-core-3.1.0.jar:/usr/lib/ambari-server/stax-api-1.0-2.jar:/usr/lib/ambari-server/snmp4j-1.10.1.jar:/usr/lib/ambari-server/jsch-0.1.54.jar:/usr/lib/ambari-server/spring-webmvc-4.3.18.RELEASE.jar:/usr/lib/ambari-server/spring-web-4.3.18.RELEASE.jar:/usr/lib/ambari-server/spring-context-4.3.18.RELEASE.jar:/usr/lib/ambari-server/libpam4j-1.10.jar:/usr/lib/ambari-server/javassist-3.21.0-GA.jar:/usr/lib/ambari-server/guice-4.1.0.jar:/usr/lib/ambari-server/websocket-common-9.4.12.v20180830.jar:/usr/lib/ambari-server/quartz-jobs-2.2.1.jar:/usr/lib/ambari-server/guice-persist-4.1.0.jar:/usr/lib/ambari-server/quartz-2.2.1.jar:/usr/lib/ambari-server/jackson-databind-2.9.5.jar:/usr/lib/ambari-server/javax.servlet-api-3.1.0.jar:/usr/lib/ambari-server/jersey-guice-1.19.jar:/usr/lib/ambari-server/objenesis-tck-1.2.jar:/usr/lib/ambari-server/jersey-client-1.19.jar:/usr/lib/ambari-server/commons-beanutils-1.9.3.jar:/usr/lib/ambari-server/jetty-util-ajax-9.4.12.v20180830.jar:/usr/lib/ambari-server/jsp-2.1-glassfish-2.1.v20100127.jar:/usr/lib/ambari-server/protobuf-java-2.5.0.jar:/usr/lib/ambari-server/swagger-core-1.5.19.jar:/usr/lib/ambari-server/spring-security-core-4.2.7.RELEASE.jar:/usr/lib/ambari-server/api-ldap-extras-codec-api-2.0.0.AM1.jar:/usr/lib/ambari-server/h2-1.4.193.jar:/usr/lib/ambari-server/commons-digester-1.8.jar:/usr/lib/ambari-server/apache-log4j-extras-1.2.17.jar:/usr/lib/ambari-server/jackson-dataformat-yaml-2.9.5.jar:/usr/lib/ambari-server/jetty-servlets-9.4.12.v20180830.jar:/usr/lib/ambari-server/jersey-servlet-1.19.jar:/usr/lib/ambari-server/guice-multibindings-4.1.0.jar:/usr/lib/ambari-server/curator-recipes-2.7.1.jar:/usr/lib/ambari-server/ehcache-2.10.0.jar:/usr/lib/ambari-server/commons-io-2.5.jar:/usr/lib/ambari-server/jetty-util-9.4.12.v20180830.jar:/usr/lib/ambari-server/smtp-1.5.2.jar:/usr/lib/ambari-server/java-xmlbuilder-0.4.jar:/usr/lib/ambari-server/spring-core-4.3.18.RELEASE.jar:/usr/lib/ambari-server/ant-launcher-1.10.3.jar:/usr/lib/ambari-server/jetty-xml-9.4.12.v20180830.jar:/usr/lib/ambari-server/javax.persistence-2.1.1.jar:/usr/lib/ambari-server/json-smart-2.3.jar:/usr/lib/ambari-server/oro-2.0.8.jar:/usr/lib/ambari-server/paranamer-2.3.jar:/usr/lib/ambari-server/api-ldap-extras-codec-2.0.0.AM1.jar:/usr/lib/ambari-server/mimepull-1.9.3.jar:/usr/lib/ambari-server/ambari-server-2.7.3.0.0.jar:/usr/lib/ambari-server/hadoop-auth-2.7.2.jar:/usr/lib/ambari-server/jcip-annotations-1.0-1.jar:/usr/lib/ambari-server/httpcore-4.4.9.jar:/usr/lib/ambari-server/ambari-metrics-common-2.7.3.0.0.jar:/usr/lib/ambari-server/jetty-io-9.4.12.v20180830.jar:/usr/lib/ambari-server/accessors-smart-1.2.jar:/usr/lib/ambari-server/jaxb-impl-2.2.3-1.jar:/usr/lib/ambari-server/jetty-continuation-9.4.12.v20180830.jar:/usr/lib/ambari-server/xz-1.2.jar:/usr/lib/ambari-server/swagger-models-1.5.19.jar:/usr/lib/ambari-server/mchange-commons-java-0.2.11.jar:/usr/lib/ambari-server/snakeyaml-1.18.jar:/usr/lib/ambari-server/spring-security-config-4.2.7.RELEASE.jar:/usr/lib/ambari-server/velocity-1.7.jar:/usr/lib/ambari-server/nimbus-jose-jwt-5.9.jar:/usr/lib/ambari-server/kerberos-client-2.0.0-M24.jar:/usr/lib/ambari-server/jetty-webapp-9.4.12.v20180830.jar:/usr/lib/ambari-server/jersey-json-1.19.jar:/usr/lib/ambari-server/api-util-2.0.0.AM1.jar:/usr/lib/ambari-server/javax.inject-1.jar:/usr/lib/ambari-server/jackson-mapper-asl-1.9.13.jar:/usr/lib/ambari-server/api-asn1-ber-2.0.0.AM1.jar:/usr/lib/ambari-server/avro-1.7.4.jar:/usr/lib/ambari-server/gson-2.2.2.jar:/usr/lib/ambari-server/snappy-java-1.0.4.1.jar:/usr/lib/ambari-server/log4j-1.2.17.jar:/usr/lib/ambari-server/spring-beans-4.3.18.RELEASE.jar:/usr/lib/ambari-server/websocket-server-9.4.12.v20180830.jar:/usr/lib/ambari-server/spring-security-kerberos-web-1.0.1.RELEASE.jar:/usr/lib/ambari-server/postgresql-42.2.2.jar:/usr/lib/ambari-server/api-asn1-api-2.0.0.AM1.jar:/usr/lib/ambari-server/websocket-api-9.4.12.v20180830.jar:/usr/lib/ambari-server/slf4j-log4j12-1.7.20.jar:/usr/lib/ambari-server/jetty-server-9.4.12.v20180830.jar:/usr/lib/ambari-server/spring-ldap-core-2.3.2.RELEASE.jar:/usr/lib/ambari-server/c3p0-0.9.5.2.jar:/usr/lib/ambari-server/jersey-server-1.19.jar:/usr/lib/ambari-server/ambari-serviceadvisor-1.0.0.0-SNAPSHOT.jar:/usr/lib/ambari-server/api-ldap-codec-core-2.0.0.AM1.jar:/usr/lib/ambari-server/commons-lang3-3.1.jar:/usr/lib/ambari-server/api-ldap-model-2.0.0.AM1.jar:/usr/lib/ambari-server/jackson-core-asl-1.9.9.jar:/usr/lib/ambari-server/eclipselink-2.6.2.jar:/usr/lib/ambari-server/commons-math3-3.1.1.jar:/usr/lib/ambari-server/mina-core-2.0.18.jar:/usr/lib/ambari-server/commons-collections-3.2.2.jar:/usr/lib/ambari-server/guice-servlet-4.1.0.jar:/usr/lib/ambari-server/jersey-spring-1.19.jar:/usr/lib/ambari-server/swagger-jaxrs-1.5.19.jar:/usr/lib/ambari-server/jna-4.2.2.jar:/usr/lib/ambari-server/spring-security-ldap-4.2.7.RELEASE.jar:/usr/lib/ambari-server/slf4j-api-1.7.20.jar:/usr/lib/ambari-server/guava-18.0.jar:/usr/lib/ambari-server/org.apache.servicemix.bundles.antlr-2.7.7_5.jar:/usr/lib/ambari-server/commons-logging-1.1.1.jar:/usr/jdk64/jdk1.8.0_221/lib/mysql-connector-java.jar:/usr/share/java/mysql-connector-java.jar
2019-11-12 16:45:26,967  INFO [main] Configuration:2831 - Reading password from existing file
2019-11-12 16:45:26,989  INFO [main] Configuration:3484 - Hosts Mapping File null
2019-11-12 16:45:26,990  INFO [main] HostsMap:60 - Using hostsmap file null
2019-11-12 16:45:28,330  INFO [main] ControllerModule:225 - Detected MYSQL as the database type from the JDBC URL
2019-11-12 16:45:28,341  INFO [main] ControllerModule:269 - Using c3p0 ComboPooledDataSource as the EclipsLink DataSource
2019-11-12 16:45:28,386  INFO [MLog-Init-Reporter] MLog:212 - MLog clients using slf4j logging.
2019-11-12 16:45:28,560  INFO [main] C3P0Registry:212 - Initializing c3p0-0.9.5.2 [built 08-December-2015 22:06:04 -0800; debug? true; trace: 10]
2019-11-12 16:45:28,935  INFO [main] ControllerModule:549 - Searching package org.apache.ambari.server for annotations matching [interface org.apache.ambari.server.EagerSingleton, interface org.apache.ambari.server.StaticallyInject, interface org.apache.ambari.server.AmbariService]
2019-11-12 16:45:29,460  INFO [main] ClasspathScannerUtils:54 - Checking package [org.apache.ambari.server] for binding candidates.
2019-11-12 16:45:31,192  INFO [main] ControllerModule:590 - Registering service class org.apache.ambari.server.controller.logging.LogSearchDataRetrievalService 
2019-11-12 16:45:31,206  INFO [main] ControllerModule:590 - Registering service class org.apache.ambari.server.state.services.AlertNoticeDispatchService 
2019-11-12 16:45:31,208  INFO [main] ControllerModule:590 - Registering service class org.apache.ambari.server.state.services.AmbariServerAlertService 
2019-11-12 16:45:31,209  INFO [main] ControllerModule:590 - Registering service class org.apache.ambari.server.state.services.CachedAlertFlushService 
2019-11-12 16:45:31,482  INFO [main] ControllerModule:590 - Registering service class org.apache.ambari.server.state.services.MetricsRetrievalService 
2019-11-12 16:45:31,487  INFO [main] ControllerModule:590 - Registering service class org.apache.ambari.server.state.services.RetryUpgradeActionService 
2019-11-12 16:45:31,514  INFO [main] ControllerModule:618 - Searching package org.apache.ambari.server.notifications.dispatchers for dispatchers matching interface org.apache.ambari.server.notifications.NotificationDispatcher
2019-11-12 16:45:31,696  INFO [main] ControllerModule:658 - Binding and registering notification dispatcher class org.apache.ambari.server.notifications.dispatchers.SNMPDispatcher
2019-11-12 16:45:31,698  INFO [main] ControllerModule:658 - Binding and registering notification dispatcher class org.apache.ambari.server.notifications.dispatchers.AmbariSNMPDispatcher
2019-11-12 16:45:31,715  INFO [main] ControllerModule:658 - Binding and registering notification dispatcher class org.apache.ambari.server.notifications.dispatchers.AlertScriptDispatcher
2019-11-12 16:45:31,724  INFO [main] ControllerModule:658 - Binding and registering notification dispatcher class org.apache.ambari.server.notifications.dispatchers.EmailDispatcher
2019-11-12 16:45:31,726  INFO [main] ControllerModule:682 - Searching package org.apache.ambari.server.checks for classes matching class org.apache.ambari.server.checks.AbstractCheckDescriptor
2019-11-12 16:45:31,955  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.HostsMasterMaintenanceCheck
2019-11-12 16:45:31,955  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.ServicesMaintenanceModeCheck
2019-11-12 16:45:31,956  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.HostMaintenanceModeCheck
2019-11-12 16:45:31,956  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.AmbariMetricsHadoopSinkVersionCompatibilityCheck
2019-11-12 16:45:31,956  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.HostsRepositoryVersionCheck
2019-11-12 16:45:31,956  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.MissingOsInRepoVersionCheck
2019-11-12 16:45:31,957  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.RequiredServicesInRepositoryCheck
2019-11-12 16:45:31,957  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.SecondaryNamenodeDeletedCheck
2019-11-12 16:45:31,957  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.ServicesNamenodeHighAvailabilityCheck
2019-11-12 16:45:31,957  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.ServicesNamenodeTruncateCheck
2019-11-12 16:45:31,957  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.ServicesMapReduceDistributedCacheCheck
2019-11-12 16:45:31,958  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.ServicesTezDistributedCacheCheck
2019-11-12 16:45:31,958  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.HostsHeartbeatCheck
2019-11-12 16:45:31,958  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.ComponentsInstallationCheck
2019-11-12 16:45:31,958  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.ServicesUpCheck
2019-11-12 16:45:31,959  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.ClientRetryPropertyCheck
2019-11-12 16:45:31,959  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.DruidHighAvailabilityCheck
2019-11-12 16:45:31,959  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.YarnRMHighAvailabilityCheck
2019-11-12 16:45:31,959  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.HiveMultipleMetastoreCheck
2019-11-12 16:45:31,959  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.AutoStartDisabledCheck
2019-11-12 16:45:31,960  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.MapReduce2JobHistoryStatePreservingCheck
2019-11-12 16:45:31,960  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.RangerPasswordCheck
2019-11-12 16:45:31,960  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.VersionMismatchCheck
2019-11-12 16:45:31,960  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.KafkaKerberosCheck
2019-11-12 16:45:31,961  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.KerberosAdminPersistedCredentialCheck
2019-11-12 16:45:31,961  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.AtlasMigrationPropertyCheck
2019-11-12 16:45:31,961  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.ComponentsExistInRepoCheck
2019-11-12 16:45:31,961  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.HiveNotRollingWarning
2019-11-12 16:45:31,962  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.LZOCheck
2019-11-12 16:45:31,962  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.RangerAuditDbCheck
2019-11-12 16:45:31,962  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.RangerSSLConfigCheck
2019-11-12 16:45:31,962  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.StormShutdownWarning
2019-11-12 16:45:31,962  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.HealthCheck
2019-11-12 16:45:31,963  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.ServiceCheckValidityCheck
2019-11-12 16:45:31,963  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.ServicePresenceCheck
2019-11-12 16:45:31,963  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.InstallPackagesCheck
2019-11-12 16:45:31,963  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.PreviousUpgradeCompleted
2019-11-12 16:45:31,964  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.ServicesYarnWorkPreservingCheck
2019-11-12 16:45:31,964  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.YarnTimelineServerStatePreservingCheck
2019-11-12 16:45:31,964  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.HiveDynamicServiceDiscoveryCheck
2019-11-12 16:45:31,964  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.HardcodedStackVersionPropertiesCheck
2019-11-12 16:45:31,965  INFO [main] ControllerModule:718 - Registered pre-upgrade check class org.apache.ambari.server.checks.ConfigurationMergeCheck
2019-11-12 16:45:32,279  INFO [main] ClasspathScannerUtils:54 - Checking package [org.apache.ambari.server.audit.request.eventcreator] for binding candidates.
2019-11-12 16:45:32,367  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.AlertGroupEventCreator
2019-11-12 16:45:32,369  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.AlertTargetEventCreator
2019-11-12 16:45:32,370  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.BlueprintEventCreator
2019-11-12 16:45:32,370  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.BlueprintExportEventCreator
2019-11-12 16:45:32,371  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.ComponentEventCreator
2019-11-12 16:45:32,371  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.ConfigurationChangeEventCreator
2019-11-12 16:45:32,371  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.CredentialEventCreator
2019-11-12 16:45:32,372  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.DefaultEventCreator
2019-11-12 16:45:32,372  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.GroupEventCreator
2019-11-12 16:45:32,372  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.HostEventCreator
2019-11-12 16:45:32,373  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.MemberEventCreator
2019-11-12 16:45:32,373  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.PrivilegeEventCreator
2019-11-12 16:45:32,373  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.RecommendationIgnoreEventCreator
2019-11-12 16:45:32,374  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.RepositoryEventCreator
2019-11-12 16:45:32,374  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.RepositoryVersionEventCreator
2019-11-12 16:45:32,374  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.RequestEventCreator
2019-11-12 16:45:32,375  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.ServiceConfigDownloadEventCreator
2019-11-12 16:45:32,375  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.ServiceEventCreator
2019-11-12 16:45:32,375  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.UnauthorizedEventCreator
2019-11-12 16:45:32,376  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.UpgradeEventCreator
2019-11-12 16:45:32,376  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.UpgradeItemEventCreator
2019-11-12 16:45:32,376  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.UserEventCreator
2019-11-12 16:45:32,377  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.ValidationIgnoreEventCreator
2019-11-12 16:45:32,377  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.ViewInstanceEventCreator
2019-11-12 16:45:32,377  INFO [main] AuditLoggerModule:82 - Binding audit event creator class org.apache.ambari.server.audit.request.eventcreator.ViewPrivilegeEventCreator
2019-11-12 16:45:34,969  INFO [main] HostRoleCommandDAO:277 - Host role command status summary cache enabled !
2019-11-12 16:45:34,974  INFO [main] TransactionalLock$LockArea:121 - LockArea HRC_STATUS_CACHE is enabled
2019-11-12 16:45:35,478  INFO [main] AmbariLdapConfigurationProvider:72 - Registered AmbariLdapConfigurationProvider in event publisher
2019-11-12 16:45:36,370  INFO [main] CredentialStoreServiceImpl:60 - Initialized the temporary credential store. KeyStore entries will be retained for 90 minutes and will be actively purged
2019-11-12 16:45:36,393  INFO [main] LockFactory:54 - Lock profiling is disabled
2019-11-12 16:45:36,396  INFO [main] AmbariServer:1083 - Getting the controller
2019-11-12 16:45:38,565  INFO [pool-5-thread-1] AmbariLdapConfigurationProvider:126 - JPA initialized event received: JpaInitializedEvent{eventType=JPA_INITIALIZED}
2019-11-12 16:45:38,565  INFO [pool-5-thread-1] AmbariLdapConfigurationProvider:90 - Loading LDAP configuration ...
2019-11-12 16:45:38,566  INFO [pool-5-thread-1] AmbariLdapConfigurationProvider:92 - Actually loading LDAP configuration from DB ...
2019-11-12 16:45:38,823  INFO [main] AbstractPoolBackedDataSource:212 - Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 5, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, contextClassLoaderSource -> caller, dataSourceName -> 2zp9nia6qatlvqttoiqn|194fad1, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> com.mysql.jdbc.Driver, extensions -> {}, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, forceSynchronousCheckins -> false, forceUseNamedDriverClass -> false, identityToken -> 2zp9nia6qatlvqttoiqn|194fad1, idleConnectionTestPeriod -> 7200, initialPoolSize -> 5, jdbcUrl -> jdbc:mysql://kylin30.bigdata.com:3306/ambari, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 14400, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 32, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 5, numHelperThreads -> 3, preferredTestQuery -> SELECT 1, privilegeSpawnedThreads -> false, properties -> {user=******, password=******}, propertyCycle -> 0, statementCacheNumDeferredCloseThreads -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, userOverrides -> {}, usesTraditionalReflectiveProxies -> false ]
2019-11-12 16:46:09,346  WARN [C3P0PooledConnectionPoolManager[identityToken->2zp9nia6qatlvqttoiqn|194fad1]-HelperThread-#2] BasicResourcePool:223 - com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@33f47c99 -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception: 
com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor41.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:990)
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:342)
	at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2197)
	at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2230)
	at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2025)
	at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:778)
	at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47)
	at sun.reflect.GeneratedConstructorAccessor42.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:386)
	at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:330)
	at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:175)
	at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:220)
	at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:206)
	at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:203)
	at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1138)
	at com.mchange.v2.resourcepool.BasicResourcePool.doAcquireAndDecrementPendingAcquiresWithinLockOnSuccess(BasicResourcePool.java:1125)
	at com.mchange.v2.resourcepool.BasicResourcePool.access$700(BasicResourcePool.java:44)
	at com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask.run(BasicResourcePool.java:1870)
	at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:696)
Caused by: java.net.ConnectException: 拒绝连接 (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:211)
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:301)
	... 20 more
2019-11-12 16:46:09,354  WARN [C3P0PooledConnectionPoolManager[identityToken->2zp9nia6qatlvqttoiqn|194fad1]-HelperThread-#2] BasicResourcePool:220 - Having failed to acquire a resource, com.mchange.v2.resourcepool.BasicResourcePool@7c71c889 is interrupting all Threads waiting on a resource to check out. Will try again in response to new client requests.
2019-11-12 16:46:09,348  WARN [C3P0PooledConnectionPoolManager[identityToken->2zp9nia6qatlvqttoiqn|194fad1]-HelperThread-#0] BasicResourcePool:223 - com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@65f4615d -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception: 
com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor41.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:990)
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:342)
	at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2197)
	at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2230)
	at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2025)
	at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:778)
	at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47)
	at sun.reflect.GeneratedConstructorAccessor42.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:386)
	at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:330)
	at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:175)
	at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:220)
	at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:206)
	at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:203)
	at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1138)
	at com.mchange.v2.resourcepool.BasicResourcePool.doAcquireAndDecrementPendingAcquiresWithinLockOnSuccess(BasicResourcePool.java:1125)
	at com.mchange.v2.resourcepool.BasicResourcePool.access$700(BasicResourcePool.java:44)
	at com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask.run(BasicResourcePool.java:1870)
	at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:696)
Caused by: java.net.ConnectException: 拒绝连接 (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:211)
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:301)
	... 20 more
2019-11-12 16:46:09,346  WARN [C3P0PooledConnectionPoolManager[identityToken->2zp9nia6qatlvqttoiqn|194fad1]-HelperThread-#1] BasicResourcePool:223 - com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@3831dbed -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception: 
com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor41.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:990)
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:342)
	at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2197)
	at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2230)
	at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2025)
	at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:778)
	at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47)
	at sun.reflect.GeneratedConstructorAccessor42.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:386)
	at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:330)
	at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:175)
	at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:220)
	at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:206)
	at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:203)
	at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1138)
	at com.mchange.v2.resourcepool.BasicResourcePool.doAcquireAndDecrementPendingAcquiresWithinLockOnSuccess(BasicResourcePool.java:1125)
	at com.mchange.v2.resourcepool.BasicResourcePool.access$700(BasicResourcePool.java:44)
	at com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask.run(BasicResourcePool.java:1870)
	at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:696)
Caused by: java.net.ConnectException: 拒绝连接 (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:211)
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:301)
	... 20 more
2019-11-12 16:46:09,361  WARN [C3P0PooledConnectionPoolManager[identityToken->2zp9nia6qatlvqttoiqn|194fad1]-HelperThread-#1] BasicResourcePool:220 - Having failed to acquire a resource, com.mchange.v2.resourcepool.BasicResourcePool@7c71c889 is interrupting all Threads waiting on a resource to check out. Will try again in response to new client requests.
2019-11-12 16:46:09,363  WARN [C3P0PooledConnectionPoolManager[identityToken->2zp9nia6qatlvqttoiqn|194fad1]-HelperThread-#0] BasicResourcePool:220 - Having failed to acquire a resource, com.mchange.v2.resourcepool.BasicResourcePool@7c71c889 is interrupting all Threads waiting on a resource to check out. Will try again in response to new client requests.
2019-11-12 16:46:09,358  WARN [C3P0PooledConnectionPoolManager[identityToken->2zp9nia6qatlvqttoiqn|194fad1]-HelperThread-#2] BasicResourcePool:223 - com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@579f063e -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception: 
com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor41.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:990)
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:342)
	at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2197)
	at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2230)
	at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2025)
	at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:778)
	at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47)
	at sun.reflect.GeneratedConstructorAccessor42.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:386)
	at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:330)
	at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:175)
	at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:220)
	at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:206)
	at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:203)
	at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1138)
	at com.mchange.v2.resourcepool.BasicResourcePool.doAcquireAndDecrementPendingAcquiresWithinLockOnSuccess(BasicResourcePool.java:1125)
	at com.mchange.v2.resourcepool.BasicResourcePool.access$700(BasicResourcePool.java:44)
	at com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask.run(BasicResourcePool.java:1870)
	at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:696)
Caused by: java.net.ConnectException: 拒绝连接 (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:211)
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:301)
	... 20 more
2019-11-12 16:46:09,366  WARN [C3P0PooledConnectionPoolManager[identityToken->2zp9nia6qatlvqttoiqn|194fad1]-HelperThread-#2] BasicResourcePool:220 - Having failed to acquire a resource, com.mchange.v2.resourcepool.BasicResourcePool@7c71c889 is interrupting all Threads waiting on a resource to check out. Will try again in response to new client requests.
2019-11-12 16:46:09,364  WARN [C3P0PooledConnectionPoolManager[identityToken->2zp9nia6qatlvqttoiqn|194fad1]-HelperThread-#1] BasicResourcePool:223 - com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@525be5cb -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception: 
com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor41.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:990)
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:342)
	at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2197)
	at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2230)
	at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2025)
	at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:778)
	at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47)
	at sun.reflect.GeneratedConstructorAccessor42.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:386)
	at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:330)
	at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:175)
	at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:220)
	at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:206)
	at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:203)
	at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1138)
	at com.mchange.v2.resourcepool.BasicResourcePool.doAcquireAndDecrementPendingAcquiresWithinLockOnSuccess(BasicResourcePool.java:1125)
	at com.mchange.v2.resourcepool.BasicResourcePool.access$700(BasicResourcePool.java:44)
	at com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask.run(BasicResourcePool.java:1870)
	at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:696)
Caused by: java.net.ConnectException: 拒绝连接 (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:211)
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:301)
	... 20 more
2019-11-12 16:46:09,369  WARN [C3P0PooledConnectionPoolManager[identityToken->2zp9nia6qatlvqttoiqn|194fad1]-HelperThread-#1] BasicResourcePool:220 - Having failed to acquire a resource, com.mchange.v2.resourcepool.BasicResourcePool@7c71c889 is interrupting all Threads waiting on a resource to check out. Will try again in response to new client requests.
2019-11-12 16:46:09,374 ERROR [main] AmbariServer:1114 - Failed to run the Ambari Server
javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.2.v20151217-774c696): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: java.sql.SQLException: Connections could not be acquired from the underlying database!
Error Code: 0
	at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:815)
	at org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getAbstractSession(EntityManagerFactoryDelegate.java:205)
	at org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.createEntityManagerImpl(EntityManagerFactoryDelegate.java:305)
	at org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.createEntityManagerImpl(EntityManagerFactoryImpl.java:337)
	at org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:303)
	at com.google.inject.persist.jpa.JpaPersistService.begin(JpaPersistService.java:77)
	at com.google.inject.persist.jpa.AmbariJpaPersistService.begin(AmbariJpaPersistService.java:27)
	at org.apache.ambari.server.orm.AmbariLocalSessionInterceptor.invoke(AmbariLocalSessionInterceptor.java:40)
	at org.apache.ambari.server.checks.DatabaseConsistencyCheckHelper.checkDBVersionCompatible(DatabaseConsistencyCheckHelper.java:222)
	at org.apache.ambari.server.controller.AmbariServer.main(AmbariServer.java:1099)
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.6.2.v20151217-774c696): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: java.sql.SQLException: Connections could not be acquired from the underlying database!
Error Code: 0
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:316)
	at org.eclipse.persistence.sessions.JNDIConnector.connect(JNDIConnector.java:147)
	at org.eclipse.persistence.sessions.DatasourceLogin.connectToDatasource(DatasourceLogin.java:162)
	at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.setOrDetectDatasource(DatabaseSessionImpl.java:207)
	at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.loginAndDetectDatasource(DatabaseSessionImpl.java:760)
	at org.eclipse.persistence.internal.jpa.EntityManagerFactoryProvider.login(EntityManagerFactoryProvider.java:265)
	at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:731)
	... 9 more
Caused by: java.sql.SQLException: Connections could not be acquired from the underlying database!
	at com.mchange.v2.sql.SqlUtils.toSQLException(SqlUtils.java:118)
	at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutPooledConnection(C3P0PooledConnectionPool.java:692)
	at com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource.getConnection(AbstractPoolBackedDataSource.java:146)
	at org.eclipse.persistence.sessions.JNDIConnector.connect(JNDIConnector.java:144)
	... 14 more
Caused by: com.mchange.v2.resourcepool.CannotAcquireResourceException: A ResourcePool could not acquire a resource from its primary factory or source.
	at com.mchange.v2.resourcepool.BasicResourcePool.awaitAvailable(BasicResourcePool.java:1469)
	at com.mchange.v2.resourcepool.BasicResourcePool.prelimCheckoutResource(BasicResourcePool.java:644)
	at com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:554)
	at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutAndMarkConnectionInUse(C3P0PooledConnectionPool.java:758)
	at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutPooledConnection(C3P0PooledConnectionPool.java:685)
	... 16 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at sun.reflect.GeneratedConstructorAccessor41.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:990)
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:342)
	at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2197)
	at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2230)
	at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2025)
	at com.mysql.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:778)
	at com.mysql.jdbc.JDBC4Connection.<init>(JDBC4Connection.java:47)
	at sun.reflect.GeneratedConstructorAccessor42.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:386)
	at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:330)
	at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:175)
	at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:220)
	at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:206)
	at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:203)
	at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1138)
	at com.mchange.v2.resourcepool.BasicResourcePool.doAcquireAndDecrementPendingAcquiresWithinLockOnSuccess(BasicResourcePool.java:1125)
	at com.mchange.v2.resourcepool.BasicResourcePool.access$700(BasicResourcePool.java:44)
	at com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask.run(BasicResourcePool.java:1870)
	at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:696)
Caused by: java.net.ConnectException: 拒绝连接 (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:211)
	at com.mysql.jdbc.MysqlIO.<init>(MysqlIO.java:301)
	... 20 more
